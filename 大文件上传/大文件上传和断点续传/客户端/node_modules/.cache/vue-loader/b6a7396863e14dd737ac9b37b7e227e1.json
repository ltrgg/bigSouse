{"remainingRequest":"D:\\练习\\大文件上传\\大文件上传和断点续传\\客户端\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\练习\\大文件上传\\大文件上传和断点续传\\客户端\\src\\App2.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\练习\\大文件上传\\大文件上传和断点续传\\客户端\\src\\App2.vue","mtime":1595770545000},{"path":"D:\\练习\\大文件上传\\大文件上传和断点续传\\客户端\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1665563423068},{"path":"D:\\练习\\大文件上传\\大文件上传和断点续传\\客户端\\node_modules\\babel-loader\\lib\\index.js","mtime":1665563427105},{"path":"D:\\练习\\大文件上传\\大文件上传和断点续传\\客户端\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1665563423068},{"path":"D:\\练习\\大文件上传\\大文件上传和断点续传\\客户端\\node_modules\\vue-loader\\lib\\index.js","mtime":1665563427303}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGZpbGVQYXJzZSB9IGZyb20gIi4vYXNzZXRzL3V0aWxzIjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IHFzIGZyb20gInFzIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQXBwIiwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaW1nOiBudWxsLAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGFzeW5jIGNoYW5nZUZpbGUoZmlsZSkgewogICAgICBpZiAoIWZpbGUpIHJldHVybjsKICAgICAgZmlsZSA9IGZpbGUucmF3OwogICAgICAvLyDnu6fnu63lgZrmoLzlvI/moKHpqowKICAgICAgLyoKICAgICAgICog5oqK5LiK5Lyg55qE5paH5Lu25YWI6L+b6KGM6Kej5p6Q77yIRmlsZVJlYWRlcu+8iQogICAgICAgKiDmiorlhbbovazmjaJiYXNlNjTnvJbnoIHmoLzlvI8KICAgICAgICog6Ieq5bex5Z+65LqOYXhpb3Pmiorkv6Hmga/kvKDpgJLnu5nmnI3liqHlmagKICAgICAgICogLi4uCiAgICAgICAqLwogICAgICBsZXQgcmVzdWx0ID0gYXdhaXQgZmlsZVBhcnNlKGZpbGUsICJiYXNlNjQiKTsKICAgICAgcmVzdWx0ID0gYXdhaXQgYXhpb3MucG9zdCgKICAgICAgICAiL3NpbmdsZTIiLAogICAgICAgIHFzLnN0cmluZ2lmeSh7CiAgICAgICAgICBjaHVuazogZW5jb2RlVVJJQ29tcG9uZW50KHJlc3VsdCksCiAgICAgICAgICBmaWxlbmFtZTogZmlsZS5uYW1lLAogICAgICAgIH0pLAogICAgICAgIHsKICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgIkNvbnRlbnQtVHlwZSI6ICJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiLAogICAgICAgICAgfSwKICAgICAgICB9CiAgICAgICk7CiAgICAgIHJlc3VsdCA9IHJlc3VsdC5kYXRhOwogICAgICBpZiAocmVzdWx0LmNvZGUgPT0gMCkgewogICAgICAgIHRoaXMuaW1nID0gcmVzdWx0LnBhdGg7CiAgICAgIH0KICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["App2.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAkBA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"App2.vue","sourceRoot":"src","sourcesContent":["<template>\n  <div id=\"app\">\n    <el-upload drag action :auto-upload=\"false\" :show-file-list=\"false\" :on-change=\"changeFile\">\n      <i class=\"el-icon-upload\"></i>\n      <div class=\"el-upload__text\">\n        将文件拖到此处，或\n        <em>点击上传</em>\n      </div>\n    </el-upload>\n\n    <!-- IMG -->\n    <div class=\"uploadImg\" v-show=\"img\">\n      <img :src=\"img\" alt />\n    </div>\n  </div>\n</template>\n\n<script>\nimport { fileParse } from \"./assets/utils\";\nimport axios from \"axios\";\nimport qs from \"qs\";\n\nexport default {\n  name: \"App\",\n  data() {\n    return {\n      img: null,\n    };\n  },\n  methods: {\n    async changeFile(file) {\n      if (!file) return;\n      file = file.raw;\n      // 继续做格式校验\n      /*\n       * 把上传的文件先进行解析（FileReader）\n       * 把其转换base64编码格式\n       * 自己基于axios把信息传递给服务器\n       * ...\n       */\n      let result = await fileParse(file, \"base64\");\n      result = await axios.post(\n        \"/single2\",\n        qs.stringify({\n          chunk: encodeURIComponent(result),\n          filename: file.name,\n        }),\n        {\n          headers: {\n            \"Content-Type\": \"application/x-www-form-urlencoded\",\n          },\n        }\n      );\n      result = result.data;\n      if (result.code == 0) {\n        this.img = result.path;\n      }\n    },\n  },\n};\n</script>"]}]}
{"remainingRequest":"D:\\练习\\大文件上传\\大文件上传和断点续传\\客户端\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\练习\\大文件上传\\大文件上传和断点续传\\客户端\\src\\App.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\练习\\大文件上传\\大文件上传和断点续传\\客户端\\src\\App.vue","mtime":1595769118000},{"path":"D:\\练习\\大文件上传\\大文件上传和断点续传\\客户端\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1665563423068},{"path":"D:\\练习\\大文件上传\\大文件上传和断点续传\\客户端\\node_modules\\babel-loader\\lib\\index.js","mtime":1665563427105},{"path":"D:\\练习\\大文件上传\\大文件上传和断点续传\\客户端\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1665563423068},{"path":"D:\\练习\\大文件上传\\大文件上传和断点续传\\客户端\\node_modules\\vue-loader\\lib\\index.js","mtime":1665563427303}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8qCiAqIOaWh+S7tuS4iuS8oOacieS4pOWll+aWueahiO+8mgogKiAgIDEuIOWfuuS6juaWh+S7tua1ge+8iGZvcm0tZGF0Ye+8iSAgZWxlbWVudC11aeS4iuS8oOe7hOS7tum7mOiupOaYr+WfuuS6juaWh+S7tua1geeahAogKiAgIDIuIOWuouaIt+err+mcgOimgeaKiuaWh+S7tui9rOWMluS4ukJBU0U2NAogKgogKiDpu5jorqTkuIrkvKAKICogICDmoLzlvI/vvJptdWx0aXBhcnQvZm9ybS1kYXRhCiAqICAg5pWw5o2u5qC85byP77yaZm9ybS1kYXRhCiAqICAgICAgZmlsZSDmlofku7bmtYHkv6Hmga8KICogICAgICBmaWxlbmFtZSDmlofku7blkI3lrZcKICogICDkuIrkvKDmiJDlip/lkI7ojrflj5bmnI3liqHlmajov5Tlm57kv6Hmga/vvIzpgJrnn6Vvbi1zdWNjZXNz5Zue6LCD5Ye95pWw5omn6KGMCiAqIOWGhemDqOWwgeijheS6hmFqYXgKICovCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQXBwIiwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaW1nOiBudWxsLAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGhhbmRsZVN1Y2Nlc3MocmVzdWx0KSB7CiAgICAgIGlmIChyZXN1bHQuY29kZSA9PSAwKSB7CiAgICAgICAgdGhpcy5pbWcgPSByZXN1bHQucGF0aDsKICAgICAgfQogICAgfSwKICAgIGJlZm9yZVVwbG9hZChmaWxlKSB7CiAgICAgIC8vIOagvOW8j+agoemqjAogICAgICBsZXQgeyB0eXBlLCBzaXplIH0gPSBmaWxlOwoKICAgICAgaWYgKCEvKHBuZ3xnaWZ8anBlZ3xqcGcpL2kudGVzdCh0eXBlKSkgewogICAgICAgIHRoaXMuJG1lc3NhZ2UoIuaWh+S7tuWQiOmAguS4jeato+ehrn5+Iik7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CgogICAgICBpZiAoc2l6ZSA+IDIwMCAqIDEwMjQgKiAxMDI0KSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZSgi5paH5Lu26L+H5aSn77yM6K+35LiK5Lyg5bCP5LqOMjAwTULnmoTmlofku7Z+fiIpOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQoKICAgICAgcmV0dXJuIHRydWU7CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AA2BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template>\n  <div id=\"app\">\n    <!-- \n      action:存放的是文件上传到服务器的接口地址\n    -->\n    <el-upload\n      drag\n      action=\"/single1\"\n      :show-file-list=\"false\"\n      :on-success=\"handleSuccess\"\n      :before-upload=\"beforeUpload\"\n    >\n      <i class=\"el-icon-upload\"></i>\n      <div class=\"el-upload__text\">\n        将文件拖到此处，或\n        <em>点击上传</em>\n      </div>\n    </el-upload>\n\n    <!-- IMG -->\n    <div class=\"uploadImg\" v-if=\"img\">\n      <img :src=\"img\" alt />\n    </div>\n  </div>\n</template>\n\n<script>\n/*\n * 文件上传有两套方案：\n *   1. 基于文件流（form-data）  element-ui上传组件默认是基于文件流的\n *   2. 客户端需要把文件转化为BASE64\n *\n * 默认上传\n *   格式：multipart/form-data\n *   数据格式：form-data\n *      file 文件流信息\n *      filename 文件名字\n *   上传成功后获取服务器返回信息，通知on-success回调函数执行\n * 内部封装了ajax\n */\nexport default {\n  name: \"App\",\n  data() {\n    return {\n      img: null,\n    };\n  },\n  methods: {\n    handleSuccess(result) {\n      if (result.code == 0) {\n        this.img = result.path;\n      }\n    },\n    beforeUpload(file) {\n      // 格式校验\n      let { type, size } = file;\n\n      if (!/(png|gif|jpeg|jpg)/i.test(type)) {\n        this.$message(\"文件合适不正确~~\");\n        return false;\n      }\n\n      if (size > 200 * 1024 * 1024) {\n        this.$message(\"文件过大，请上传小于200MB的文件~~\");\n        return false;\n      }\n\n      return true;\n    },\n  },\n};\n</script>\n\n"]}]}